# ChinoHub

由于经常的插拔,导致我的电脑只有一个USB可以用来,是的只有一个了,所以我有必要做一个Hub,之前做一个支持2.0的KVM,但是突然有一个大电流以及没有做外壳导致这个hub由很大的问题,以及,该KVM的设计上仍有很多问题.例如大电流过滤问题,没有静电保护,同时该作为一个DIY项目,他似乎缺少了很多交互性,在参考了[TypeC转HDMI视频输出模块 - 立创开源硬件平台](https://oshwhub.com/lemon_wifi/CS5265)以及[高速USB3.0共享器 四进四出选择 HUB+切换器 - 立创开源硬件平台](https://oshwhub.com/aknice/vl822-ch484m-si-jin-si-chu-usb3-0-hub),我决定开启一个高速PCB的设计项目,ChinoHub,是的,我喜欢看点兔,我最喜欢智乃了❤.

## 项目架构

<img src="./Bitmap/Block diagram.png" alt="系统框图" style="zoom: 67%;" />

## 硬件设计注意事项

> 本设计大量用到USB3.0,布线时要遵循高速和差分.

在设计中,我们用到的电源为5V的输入,3.3V和1.0V的输入,(原理图中有1.8V那是芯片自己产生的,在本项目中没用),考虑最坏情况下,对应的峰值电流为:

| 电压域   | 最坏情况峰值电流 | 关键贡献者                                 |
| :------- | :--------------- | :----------------------------------------- |
| **3.3V** | **538 mA**       | VL822(300mA) + CS5265(150mA) + STM32(75mA) |
| **5V**   | **600 mA**       | LP3220输入(400mA) + CS5265(200mA)          |
| **1.0V** | **200 mA**       | VL822(150mA) + CS5265(50mA)                |

所以考虑1.5倍富裕度,这里选择了MP2122A,输出为2A的二路DCDC.同时STM32由LDO单独供电防止纹波问题.

## 软件烧录



## 使用指南